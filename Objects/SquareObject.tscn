[gd_scene load_steps=15 format=2]

[ext_resource path="res://assets/square.png" type="Texture" id=1]
[ext_resource path="res://Objects/Edge.gd" type="Script" id=2]
[ext_resource path="res://Objects/SquareObject.gd" type="Script" id=3]
[ext_resource path="res://Objects/SquareCollision.gd" type="Script" id=4]
[ext_resource path="res://assets/black.png" type="Texture" id=5]
[ext_resource path="res://Objects/Cooldown_Progress.gd" type="Script" id=6]
[ext_resource path="res://Objects/controllerPlacer.tscn" type="PackedScene" id=7]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 117, 117.25 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 86.5, 86.5 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 164.75, 10 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 10, 155.5 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 10, 156 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 170, 10 )

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 96, 96 )

[node name="SquareObject" type="Node2D"]
script = ExtResource( 3 )

[node name="Sprite" type="Sprite" parent="."]
scale = Vector2( 0.959685, 0.989334 )
texture = ExtResource( 1 )

[node name="GoodArea" type="Area2D" parent="." groups=["GoodPlacementArea", "Player"]]
script = ExtResource( 4 )

[node name="Good" type="CollisionShape2D" parent="GoodArea"]
position = Vector2( 0, 0.25 )
shape = SubResource( 1 )

[node name="BadArea" type="Area2D" parent="." groups=["BadPlacementArea"]]

[node name="Bad" type="CollisionShape2D" parent="BadArea"]
modulate = Color( 1, 0, 0, 1 )
position = Vector2( 1, 1 )
shape = SubResource( 2 )

[node name="Cooldown_Progress" type="TextureProgress" parent="."]
modulate = Color( 1, 1, 1, 0.75 )
margin_left = -120.0
margin_top = -120.0
margin_right = 120.0
margin_bottom = -96.0
texture_progress = ExtResource( 5 )
nine_patch_stretch = true
script = ExtResource( 6 )

[node name="Timer" type="Timer" parent="Cooldown_Progress"]

[node name="TopEdge" type="Area2D" parent="." groups=["Edge"]]
script = ExtResource( 2 )
assigned_key = "fire_1"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TopEdge"]
process_priority = -1
position = Vector2( 0, -33.0183 )
scale = Vector2( 1, 0.767937 )
build_mode = 1
polygon = PoolVector2Array( -76, -117.76, -93, -83.2514, 94, -84.1595, 79, -116.851 )

[node name="Cooldown_Progress2" type="TextureProgress" parent="."]
modulate = Color( 1, 1, 1, 0.75 )
margin_left = -96.0
margin_top = -119.0
margin_right = 144.0
margin_bottom = -95.0
rect_rotation = 90.0
texture_progress = ExtResource( 5 )
nine_patch_stretch = true
script = ExtResource( 6 )
assigned_key = "fire_2"

[node name="Timer" type="Timer" parent="Cooldown_Progress2"]

[node name="LeftEdge" type="Area2D" parent="." groups=["Edge"]]
script = ExtResource( 2 )
angle = 0
assigned_key = "fire_2"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LeftEdge"]
build_mode = 1
polygon = PoolVector2Array( -120, -65, -98, -60, -97, 94, -119, 90 )

[node name="Cooldown_Progress4" type="TextureProgress" parent="."]
modulate = Color( 1, 1, 1, 0.75 )
margin_left = -120.0
margin_top = 96.0
margin_right = 120.0
margin_bottom = 120.0
texture_progress = ExtResource( 5 )
nine_patch_stretch = true
script = ExtResource( 6 )
assigned_key = "fire_3"

[node name="Timer" type="Timer" parent="Cooldown_Progress4"]

[node name="BottomEdge" type="Area2D" parent="." groups=["Edge"]]
script = ExtResource( 2 )
angle = 270
assigned_key = "fire_3"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="BottomEdge"]
process_priority = -3
build_mode = 1
polygon = PoolVector2Array( -83, 120, -97, 98, 96, 97, 94, 120 )

[node name="Cooldown_Progress3" type="TextureProgress" parent="."]
modulate = Color( 1, 1, 1, 0.75 )
margin_left = 120.0
margin_top = -120.0
margin_right = 360.0
margin_bottom = -96.0
rect_rotation = 90.0
texture_progress = ExtResource( 5 )
nine_patch_stretch = true
script = ExtResource( 6 )
assigned_key = "fire_4"

[node name="Timer" type="Timer" parent="Cooldown_Progress3"]

[node name="RightEdge" type="Area2D" parent="." groups=["Edge"]]
script = ExtResource( 2 )
angle = 180
assigned_key = "fire_4"

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RightEdge"]
process_priority = -2
build_mode = 1
polygon = PoolVector2Array( 98, -59, 119, -61, 120, 95, 98, 94 )

[node name="ControllerPlacer" parent="." instance=ExtResource( 7 )]
position = Vector2( 18, -121 )

[node name="OutsideBoundry" type="KinematicBody2D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="OutsideBoundry"]
position = Vector2( 6.75, -155 )
shape = SubResource( 3 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="OutsideBoundry"]
position = Vector2( -156, -8.5 )
shape = SubResource( 4 )

[node name="CollisionShape2D3" type="CollisionShape2D" parent="OutsideBoundry"]
position = Vector2( 158, -7 )
shape = SubResource( 5 )

[node name="CollisionShape2D4" type="CollisionShape2D" parent="OutsideBoundry"]
position = Vector2( 2, 156 )
shape = SubResource( 6 )

[node name="InsideBoundry" type="KinematicBody2D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InsideBoundry"]
position = Vector2( -2, -1 )
shape = SubResource( 7 )

[connection signal="body_entered" from="GoodArea" to="GoodArea" method="_on_GoodArea_body_entered"]
[connection signal="crash" from="GoodArea" to="." method="_on_GoodArea_crash"]
[connection signal="timeout" from="Cooldown_Progress/Timer" to="Cooldown_Progress" method="_on_Timer_timeout"]
[connection signal="timeout" from="Cooldown_Progress2/Timer" to="Cooldown_Progress2" method="_on_Timer_timeout"]
[connection signal="timeout" from="Cooldown_Progress4/Timer" to="Cooldown_Progress4" method="_on_Timer_timeout"]
[connection signal="timeout" from="Cooldown_Progress3/Timer" to="Cooldown_Progress3" method="_on_Timer_timeout"]
